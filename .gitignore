local Players = game:GetService("Players")
local lp = Players.LocalPlayer

-- 1. MAIN UI SETUP
local screenGui = Instance.new("ScreenGui", lp.PlayerGui)
screenGui.Name = "JoJoPhone_Unified"
screenGui.ResetOnSpawn = false

local phone = Instance.new("Frame", screenGui)
phone.Size = UDim2.new(0.35, 0, 0.7, 0)
phone.Position = UDim2.new(0.5, 0, 0.5, 0)
phone.AnchorPoint = Vector2.new(0.5, 0.5)
phone.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Instance.new("UICorner", phone).CornerRadius = UDim.new(0.08, 0)
Instance.new("UIAspectRatioConstraint", phone).AspectRatio = 0.54

-- JoJo Background (Giorno/JoJo themed placeholder)
local bg = Instance.new("ImageLabel", phone)
bg.Size = UDim2.new(1, 0, 1, 0)
bg.Image = "rbxassetid://9142678957" -- JoJo Theme Wallpaper
bg.ScaleType = Enum.ScaleType.Crop
Instance.new("UICorner", bg).CornerRadius = UDim.new(0.08, 0)

-- 2. NAVIGATION SYSTEMS
local home = Instance.new("Frame", phone)
home.Size = UDim2.new(1, 0, 1, 0)
home.BackgroundTransparency = 1

local listPage = Instance.new("ScrollingFrame", phone)
listPage.Size = UDim2.new(0.9, 0, 0.75, 0)
listPage.Position = UDim2.new(0.05, 0, 0.12, 0)
listPage.Visible = false
listPage.BackgroundTransparency = 1
listPage.CanvasSize = UDim2.new(0, 0, 0, 0)
local listLayout = Instance.new("UIListLayout", listPage)
listLayout.Padding = UDim.new(0, 8)

local function showPage(title)
    home.Visible = false
    listPage.Visible = true
    listPage:ClearAllChildren()
    local nl = Instance.new("UIListLayout", listPage)
    nl.Padding = UDim.new(0, 8)
end

local function addBtn(text, func)
    local btn = Instance.new("TextButton", listPage)
    btn.Size = UDim2.new(1, 0, 0, 45)
    btn.Text = text
    btn.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.GothamMedium
    btn.TextScaled = true
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 10)
    btn.MouseButton1Click:Connect(func)
end

-- 3. THE "STUFF" (SCRIPTS)
-- CAT ANIMATION LOGIC
local function runCatAnim()
    local char = lp.Character or lp.CharacterAdded:Wait()
    local hum = char:WaitForChild("Humanoid")
    if char:FindFirstChild("Animate") then char.Animate:Destroy() end
    local anim = Instance.new("Animation")
    anim.AnimationId = "rbxassetid://130995344283026"
    local load = hum:LoadAnimation(anim)
    load.Looped = true
    load:Play()
    hum.WalkSpeed = 45
end

-- TREZ ADMIN LOGIC
local function runTrez()
    loadstring(game:HttpGet("https://raw.githubusercontent.com"))()
end

-- 4. HOME SCREEN APPS
local grid = Instance.new("UIGridLayout", home)
grid.CellSize = UDim2.new(0.28, 0, 0.15, 0)
grid.Padding = UDim2.new(0.04, 0, 0.05, 0)

local function createApp(name, action)
    local app = Instance.new("TextButton", home)
    app.Text = name
    app.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
    app.TextColor3 = Color3.new(1, 1, 1)
    app.TextScaled = true
    Instance.new("UICorner", app)
    app.MouseButton1Click:Connect(action)
end

createApp("Logs", function()
    showPage()
    -- Simple logger integration
    lp.Chatted:Connect(function(msg)
        local l = Instance.new("TextLabel", listPage)
        l.Size = UDim2.new(1, 0, 0, 20)
        l.Text = lp.Name .. ": " .. msg
        l.BackgroundTransparency = 1
        l.TextColor3 = Color3.new(1, 1, 1)
        l.TextScaled = true
        listPage.CanvasSize = UDim2.new(0, 0, 0, listLayout.AbsoluteContentSize.Y)
    end)
end)

createApp("Hubs", function()
    showPage()
    addBtn("Execute Trez Admin", runTrez)
end)

createApp("Anims", function()
    showPage()
    addBtn("Start Cat Animation", runCatAnim)
end)

-- Home Bar to return
local homeBtn = Instance.new("TextButton", phone)
homeBtn.Size = UDim2.new(0.4, 0, 0.02, 0)
homeBtn.Position = UDim2.new(0.3, 0, 0.96, 0)
homeBtn.Text = ""
homeBtn.BackgroundColor3 = Color3.new(1, 1, 1)
Instance.new("UICorner", homeBtn)
homeBtn.MouseButton1Click:Connect(function()
    home.Visible = true
    listPage.Visible = false
end)
